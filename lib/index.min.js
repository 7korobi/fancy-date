!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VuePetitStore=e():t.VuePetitStore=e()}(global,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.r(e),r.d(e,"default",function(){return n})},function(t,e){t.exports=require("lodash")},function(t,e){t.exports=require("core-js/modules/web.dom.iterable")},function(t,e,r){"use strict";var n,o,u,i,c,s,a,l,f=r(0)(r(1));r(9),r(10),r(11),u=function(t,e,r){var n,o,u,i=t.name,c=t.params,s=t.query,a=t.hash;for(n in r||(c=_.cloneDeep(c),s=_.cloneDeep(s)),o={name:i,params:c,query:s,hash:a},e)u=e[n],c[n]?c[n]=u:s[n]=u;return o},l=function(t,e,r){return function(n){switch(null!=n?n.constructor:void 0){case null:case void 0:case e:return r;case t:return n;default:return t(n)}}},c=function(t){return 1e3*s(t)},s=function(t){var e;return e=0,t.replace(/(\d+)(.)|0/g,function(t,r,n){if(r=Number(r))return e+=function(){switch(n){case"s":return r;case"m":return 60*r;case"h":return 3600*r;case"d":return 86400*r;case"w":return 604800*r;case"y":return 31536e3*r;default:throw new Error("".concat(timestr," at ").concat(r).concat(n))}}()}),e},a=function(t){var e,r,n,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0s";return t=c(t),u=c(u),u-=o,n=new Date-0,{last_at:((r=parseInt((n-u)/t))+0)*t+u,write_at:n,next_at:e=(r+1)*t+u,timeout:e-n,now_idx:r,timezone:i,since:t,gap:u}},t.exports={relative_to:u,to_sec:s,to_msec:c,to_tempo:a,types:(n={},(0,f.default)(n,Number,{to_str:l(String,NaN,""),by_str:l(Number,"",NaN),by_url:l(Number,"",NaN)}),(0,f.default)(n,String,{to_str:l(String,null,""),by_str:l(String,"",null),by_url:l(String,"",null)}),(0,f.default)(n,Array,{to_str:JSON.stringify,by_str:JSON.parse,by_url:l(Array,null,null)}),(0,f.default)(n,Object,{to_str:JSON.stringify,by_str:JSON.parse}),n)},o=c("9hour"),i=-o},function(t,e){t.exports=require("memory-orm")},function(t,e){t.exports=require("core-js/modules/es6.regexp.split")},function(t,e,r){"use strict";var n=r(0)(r(8));t.exports=(0,n.default)({},r(4),r(12),r(14),r(16),r(17))},function(t,e,r){"use strict";r.r(e),r.d(e,"default",function(){return o});var n=r(1);function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),o.forEach(function(e){Object(n.default)(t,e,r[e])})}return t}},function(t,e){t.exports=require("core-js/modules/es6.number.constructor")},function(t,e){t.exports=require("core-js/modules/es6.regexp.replace")},function(t,e){t.exports=require("core-js/modules/es6.function.name")},function(t,e,r){"use strict";var n,o,u,i,c,s=r(0)(r(1));o=r(2),n=r(13);var a=r(4);c=a.types,u=a.relative_to;try{i="__vue-localstorage-test__",n.set(i,i,{expres:"1M"}),n.remove(i),window.localStorage.setItem(i,i),window.localStorage.removeItem(i),window.sessionStorage.setItem(i,i),window.sessionStorage.removeItem(i),history||function(){throw new Error("can't use history API.")}()}catch(t){t,console.warn("Local storage not supported by this browser")}t.exports={replaceState:function(t){var e,r;return e="".concat(t,"_default"),r="".concat(t,"_type"),{created:function(){return this[e]=o.get(this,t),this[r]=c[this[e].constructor]},mounted:function(){var n;return n=this.$route.params[t]||this.$route.query[t],null==(n=this[r].by_url(n))&&(n=this[e]),this[t]=n},beforeRouteUpdate:function(n,o,u){var i;return u(),i=n.params[t]||n.query[t],null==(i=this[r].by_url(i))&&(i=this[e]),this[t]=i},watch:(0,s.default)({},t,function(e){var r,n=this.$router.resolve(u(this.$route,(0,s.default)({},t,e),!0));return n.location,r=n.href,history.replaceState(null,null,r)})}},pushState:function(t){var e,r;return e="".concat(t,"_default"),r="".concat(t,"_type"),{created:function(){return this[e]=o.get(this,t),this[r]=c[this[e].constructor]},mounted:function(){var n;return n=this.$route.params[t]||this.$route.query[t],null==(n=this[r].by_url(n))&&(n=this[e]),this[t]=n},beforeRouteUpdate:function(n,o,u){var i;return u(),i=n.params[t]||n.query[t],null==(i=this[r].by_url(i))&&(i=this[e]),this[t]=i},watch:(0,s.default)({},t,function(e){var r,n=this.$router.resolve(u(this.$route,(0,s.default)({},t,e),!0));return n.location,r=n.href,history.pushState(null,null,r)})}},sessionStorage:function(t){var e,r;return e="".concat(t,"_default"),r="".concat(t,"_type"),{created:function(){return this[e]=o.get(this,t),this[r]=c[this[e].constructor]},mounted:function(){var e;if(null!=(e=window.sessionStorage.getItem(t)))return this[t]=this[r].by_str(e)},watch:(0,s.default)({},t,function(e){var n;return null!=e?(n=this[r].to_str(e),window.sessionStorage.setItem(t,n)):window.sessionStorage.removeItem(t)})}},localStorage:function(t){var e,r,n;return e="".concat(t,"_default"),r="".concat(t,"_handle"),n="".concat(t,"_type"),{created:function(){return this[e]=o.get(this,t),this[n]=c[this[e].constructor]},mounted:function(){var e,o=this;return null!=(e=window.localStorage.getItem(t))&&(this[t]=this[n].by_str(e)),this[r]=function(e){var r=e.key,u=e.newVal;if(r===t)return o[t]=o[n].by_str(u)},window.addEventListener("storage",this[r])},beforeDestroy:function(){return window.removeEventListener("storage",this[r])},watch:(0,s.default)({},t,function(e){var r;return null!=e?(r=this[n].to_str(e),window.localStorage.setItem(t,r)):window.localStorage.removeItem(t)})}},cookie:function(t){var e,r,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expires:"1M"};return e="".concat(t,"_default"),r="".concat(t,"_type"),{created:function(){return this[e]=o.get(this,t),this[r]=c[this[e].constructor]},mounted:function(){var e;if(null!=(e=n.get(t)))return this[t]=this[r].by_str(e)},watch:(0,s.default)({},t,function(e){var o;return null!=e?(o=this[r].to_str(e),n.set(t,o,u)):n.remove(t)})}}}},function(t,e){t.exports=require("tiny-cookie")},function(t,e,r){"use strict";var n=r(0);r(3);var o,u,i,c,s,a,l=n(r(1)),f=n(r(19));i=r(15);var d=r(5);u=d.State,o=d.Set,r(2),c=function(){var t;return(t=i.firestore()).settings({timestampsInSnapshots:!0}),t},a=function(t,e){var r;return r=function(){},function(n){return r(),r=n&&this[t]?(console.log("join",n),this[t].onSnapshot(e.bind(this))):function(){}}},s=function(t,e,r,n,o){var i,s,d,h,p,v,m,y,_,g,b,w,x,S,j=o.del,O=o.add,I=o.snap,q=o.shot;v="".concat(t,"_default"),w="".concat(t,"_query"),x="".concat(t,"_snap"),p="".concat(t,"_chk"),b="".concat(t,"_path"),_="".concat(t,"_join"),h="".concat(t,"_add"),m="".concat(t,"_del");var N=r&&n?[p,w]:[b,x],P=(0,f.default)(N,2);return S=P[0],g=P[1],y=a(g,q),{data:function(){return{step:u.step}},mounted:function(){return this[v]=this[t],this[_](this[S])},beforeDestroy:function(){return this[_](void 0)},methods:(i={},(0,l.default)(i,_,y),(0,l.default)(i,h,O),(0,l.default)(i,m,j),i),computed:r&&n?(s={_firestore:c},(0,l.default)(s,b,e),(0,l.default)(s,x,function(){if(this[b])return I.call(this,this[b])}),(0,l.default)(s,p,r),(0,l.default)(s,w,function(){if(this[p]&&this[x])return n.call(this,this[x])}),s):(d={_firestore:c},(0,l.default)(d,b,e),(0,l.default)(d,x,function(){if(this[b])return I.call(this,this[b])}),d),watch:(0,l.default)({},S,y)}},t.exports={firestore_models:function(t,e,r,n){var u,i;return i="".concat(t,"_snap"),u=t.slice(0,-1),s(t,e,r,n,{del:function(t){var e;if(t)return null!=(e=this[i])?e.doc(t).delete():void 0},add:function(t){var e,r;if(e=t._id)return null!=(r=this[i])?r.doc(e).set(t,{merge:!0}):void 0},snap:function(t){return this._firestore.collection(t)},shot:function(t){return t.docChanges().forEach(function(t){var e=t.newIndex,r=t.oldIndex,n=t.type,i=t.doc;switch(console.log({type:n,newIndex:e,oldIndex:r}),n){case"added":case"modified":return o[u].add(i.data());case"removed":return o[u].remove(i.id)}})}})},firestore_model:function(t,e){var r,n;return n="".concat(t,"_snap"),r=t,s(t,e,null,null,{del:function(){var t;return null!=(t=this[n])?t.delete():void 0},add:function(t){var e;return null!=(e=this[n])?e.set(t,{merge:!0}):void 0},snap:function(t){return this._firestore.doc(t)},shot:function(t){var e;return(e=t.data())?o[r].add(e):o[r].remove(t.id)}})},firestore_collection:function(t,e,r,n){var o;return o="".concat(t,"_snap"),s(t,e,r,n,{del:function(t){var e;if(t)return null!=(e=this[o])?e.doc(t).delete():void 0},add:function(t){var e,r;if(e=t._id)return null!=(r=this[o])?r.doc(e).set(t,{merge:!0}):void 0},snap:function(t){return this._firestore.collection(t)},shot:function(e){var r=this;return e.docChanges().forEach(function(e){e.newIndex,e.oldIndex;var n=e.type,o=e.doc;switch(n){case"added":case"modified":return r[t][o.id]=o.data();case"removed":return console.log(o.data()),delete r[t][o.id]}})}})},firestore_doc:function(t,e){var r,n;return n="".concat(t,"_snap"),r="".concat(t,"_default"),s(t,e,null,null,{del:function(){var t;return null!=(t=this[n])?t.delete():void 0},add:function(t){var e;return null!=(e=this[n])?e.set(t,{merge:!0}):void 0},snap:function(t){return this._firestore.doc(t)},shot:function(e){return this[t]=e.exists?e.data():this[r]}})}}},function(t,e){t.exports=require("firebase")},function(t,e,r){"use strict";var n=r(0);r(3);var o,u=n(r(20));r(6),o=r(2),t.exports={vuex_read:function(t,e){var r,n;return n=t.split("."),r={},e.map(function(t){var e;return e=[].concat((0,u.default)(n.slice(0)),[t]).join("."),r[t]={get:function(){return o.get(this.$store.state,e)}}}),{computed:r}},vuex:function(t,e){var r,n;return n=t.split("."),r={},e.forEach(function(t){var e,i,c;return i="".concat(n[0],"/update"),e=[].concat((0,u.default)(n.slice(0)),[t]).join("."),c=[].concat((0,u.default)(n.slice(1)),[t]).join("."),r[t]={get:function(){return o.get(this.$store.state,e)},set:function(t){var e;return e=o.set({},c,t),this.$store.commit(i,e)}}}),{computed:r}}}},function(t,e,r){"use strict";var n;r(18),r(3),r(6);var o=r(5);n=o.Query,t.exports={path_by:function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"idx",o=arguments.length>1?arguments[1]:void 0;return e="".concat(r,"_a"),(t={})[e]={get:function(){return this[r].split("-")}},o.forEach(function(r,o){var u,i;if(r)return u="".concat(r,"_id"),i="".concat(r,"s"),t[u]={get:function(){if(o<this[e].length)return this[e].slice(0,+o+1||9e9).join("-")}},t[r]={get:function(){return n[i].find(this[u])}}}),{computed:t}}}},function(t,e){t.exports=require("core-js/modules/es6.array.find")},function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,o=!1,u=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,u=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw u}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r.r(e),r.d(e,"default",function(){return n})},function(t,e,r){"use strict";function n(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.r(e),r.d(e,"default",function(){return n})}])});
//# sourceMappingURL=index.min.js.map