!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VuePetitStore=e():t.VuePetitStore=e()}(global,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=3)}([function(t,e){t.exports=require("lodash")},function(t,e,r){"use strict";var n,o,i,u,s,a,c,l;n=r(0),i=function({name:t,params:e,query:r,hash:o},i,u){var s,a,c;for(s in u||(e=n.cloneDeep(e),r=n.cloneDeep(r)),a={name:t,params:e,query:r,hash:o},i)c=i[s],e[s]?e[s]=c:r[s]=c;return a},l=function(t,e,r){return function(n){switch(null!=n?n.constructor:void 0){case null:case void 0:case e:return r;case t:return n;default:return t(n)}}},s=function(t){return 1e3*a(t)},a=function(t){var e;return e=0,t.replace(/(\d+)(.)|0/g,function(t,r,n){if(r=Number(r))return e+=function(){switch(n){case"s":return r;case"m":return 60*r;case"h":return 3600*r;case"d":return 86400*r;case"w":return 604800*r;case"y":return 31536e3*r;default:throw new Error(`${timestr} at ${r}${n}`)}}()}),e},c=function(t,e="0s"){var r,n,i;return t=s(t),e=s(e),e-=o,i=new Date-0,{last_at:((n=parseInt((i-e)/t))+0)*t+e,write_at:i,next_at:r=(n+1)*t+e,timeout:r-i,now_idx:n,timezone:u,since:t,gap:e}},t.exports={relative_to:i,to_sec:a,to_msec:s,to_tempo:c,types:{[Number]:{to_str:l(String,NaN,""),by_str:l(Number,"",NaN),by_url:l(Number,"",NaN)},[String]:{to_str:l(String,null,""),by_str:l(String,"",null),by_url:l(String,"",null)},[Array]:{to_str:JSON.stringify,by_str:JSON.parse,by_url:l(Array,null,null)},[Object]:{to_str:JSON.stringify,by_str:JSON.parse}}},o=s("9hour"),u=-o},function(t,e){t.exports=require("memory-orm")},function(t,e,r){"use strict";t.exports={...r(1),...r(4),...r(6),...r(8),...r(9)}},function(t,e,r){"use strict";var n,o,i,u,s;o=r(0),n=r(5),({types:s,relative_to:i}=r(1));try{u="__vue-localstorage-test__",n.set(u,u,{expres:"1M"}),n.remove(u),window.localStorage.setItem(u,u),window.localStorage.removeItem(u),window.sessionStorage.setItem(u,u),window.sessionStorage.removeItem(u),history||function(){throw new Error("can't use history API.")}()}catch(t){t,console.warn("Local storage not supported by this browser")}t.exports={replaceState:function(t){var e,r;return e=`${t}_default`,r=`${t}_type`,{created:function(){return this[e]=o.get(this,t),this[r]=s[this[e].constructor]},mounted:function(){var n;return n=this.$route.params[t]||this.$route.query[t],null==(n=this[r].by_url(n))&&(n=this[e]),this[t]=n},beforeRouteUpdate:function(n,o,i){var u;return i(),u=n.params[t]||n.query[t],null==(u=this[r].by_url(u))&&(u=this[e]),this[t]=u},watch:{[t]:function(e){var r,n;return({location:n,href:r}=this.$router.resolve(i(this.$route,{[t]:e},!0))),history.replaceState(null,null,r)}}}},pushState:function(t){var e,r;return e=`${t}_default`,r=`${t}_type`,{created:function(){return this[e]=o.get(this,t),this[r]=s[this[e].constructor]},mounted:function(){var n;return n=this.$route.params[t]||this.$route.query[t],null==(n=this[r].by_url(n))&&(n=this[e]),this[t]=n},beforeRouteUpdate:function(n,o,i){var u;return i(),u=n.params[t]||n.query[t],null==(u=this[r].by_url(u))&&(u=this[e]),this[t]=u},watch:{[t]:function(e){var r,n;return({location:n,href:r}=this.$router.resolve(i(this.$route,{[t]:e},!0))),history.pushState(null,null,r)}}}},sessionStorage:function(t){var e,r;return e=`${t}_default`,r=`${t}_type`,{created:function(){return this[e]=o.get(this,t),this[r]=s[this[e].constructor]},mounted:function(){var e;if(null!=(e=window.sessionStorage.getItem(t)))return this[t]=this[r].by_str(e)},watch:{[t]:function(e){var n;return null!=e?(n=this[r].to_str(e),window.sessionStorage.setItem(t,n)):window.sessionStorage.removeItem(t)}}}},localStorage:function(t){var e,r,n;return e=`${t}_default`,r=`${t}_handle`,n=`${t}_type`,{created:function(){return this[e]=o.get(this,t),this[n]=s[this[e].constructor]},mounted:function(){var e;return null!=(e=window.localStorage.getItem(t))&&(this[t]=this[n].by_str(e)),this[r]=(({key:e,newVal:r})=>{if(e===t)return this[t]=this[n].by_str(r)}),window.addEventListener("storage",this[r])},beforeDestroy:function(){return window.removeEventListener("storage",this[r])},watch:{[t]:function(e){var r;return null!=e?(r=this[n].to_str(e),window.localStorage.setItem(t,r)):window.localStorage.removeItem(t)}}}},cookie:function(t,e={expires:"1M"}){var r,i;return r=`${t}_default`,i=`${t}_type`,{created:function(){return this[r]=o.get(this,t),this[i]=s[this[r].constructor]},mounted:function(){var e;if(null!=(e=n.get(t)))return this[t]=this[i].by_str(e)},watch:{[t]:function(r){var o;return null!=r?(o=this[i].to_str(r),n.set(t,o,e)):n.remove(t)}}}}}},function(t,e){t.exports=require("tiny-cookie")},function(t,e,r){"use strict";var n,o,i,u,s,a;({State:o,Set:n}=r(2)),r(0),"undefined"!=typeof window&&null!==window&&(i=r(7)),u=function(){var t;return(t=i.firestore()).settings({}),t},a=function(t,e){var r;return r=function(){},function(n){return r(),r=n&&this[t]?(console.log("join",n),this[t].onSnapshot(e.bind(this))):function(){}}},s=function(t,e,r,n,{del:i,add:s,snap:c,shot:l}){var f,d,h,p,v,_,m,y,g,w,b;return h=`${t}_default`,g=`${t}_query`,w=`${t}_snap`,d=`${t}_chk`,y=`${t}_path`,_=`${t}_join`,f=`${t}_add`,p=`${t}_del`,[b,m]=r&&n?[d,g]:[y,w],v=a(m,l),{data:function(){return{step:o.step}},mounted:function(){return this[h]=this[t],this[_](this[b])},beforeDestroy:function(){return this[_](void 0)},methods:{[_]:v,[f]:s,[p]:i},computed:r&&n?{_firestore:u,[y]:e,[w]:function(){if(this[y])return c.call(this,this[y])},[d]:r,[g]:function(){if(this[d]&&this[w])return n.call(this,this[w])}}:{_firestore:u,[y]:e,[w]:function(){if(this[y])return c.call(this,this[y])}},watch:{[b]:v}}},t.exports={firestore_models:function(t,e,r,o){var i,u;return u=`${t}_snap`,i=t.slice(0,-1),s(t,e,r,o,{del:function(t){var e;if(t)return null!=(e=this[u])?e.doc(t).delete():void 0},add:function(t){var e,r;if(({_id:e}=t),e)return null!=(r=this[u])?r.doc(e).set(t,{merge:!0}):void 0},snap:function(t){return this._firestore.collection(t)},shot:function(t){return t.docChanges().forEach(({newIndex:t,oldIndex:e,type:r,doc:o})=>{switch(r){case"added":case"modified":return n[i].add(o.data());case"removed":return n[i].remove(o.id)}})}})},firestore_model:function(t,e){var r,o;return o=`${t}_snap`,r=t,s(t,e,null,null,{del:function(){var t;return null!=(t=this[o])?t.delete():void 0},add:function(t){var e;return null!=(e=this[o])?e.set(t,{merge:!0}):void 0},snap:function(t){return this._firestore.doc(t)},shot:function(t){var e;return(e=t.data())?n[r].add(e):n[r].remove(t.id)}})},firestore_collection:function(t,e,r,n){var o;return o=`${t}_snap`,s(t,e,r,n,{del:function(t){var e;if(t)return null!=(e=this[o])?e.doc(t).delete():void 0},add:function(t){var e,r;if(({_id:e}=t),e)return null!=(r=this[o])?r.doc(e).set(t,{merge:!0}):void 0},snap:function(t){return this._firestore.collection(t)},shot:function(e){return e.docChanges().forEach(({newIndex:e,oldIndex:r,type:n,doc:o})=>{switch(n){case"added":case"modified":return this[t][o.id]=o.data();case"removed":return delete this[t][o.id]}})}})},firestore_doc:function(t,e){var r,n;return n=`${t}_snap`,r=`${t}_default`,s(t,e,null,null,{del:function(){var t;return null!=(t=this[n])?t.delete():void 0},add:function(t){var e;return null!=(e=this[n])?e.set(t,{merge:!0}):void 0},snap:function(t){return this._firestore.doc(t)},shot:function(e){return this[t]=e.exists?e.data():this[r]}})}}},function(t,e){t.exports=require("firebase")},function(t,e,r){"use strict";var n;n=r(0),t.exports={vuex_read:function(t,e){var r,o;return o=t.split("."),r={},e.map(function(t){var e;return e=[...o.slice(0),t].join("."),r[t]={get:function(){return n.get(this.$store.state,e)}}}),{computed:r}},vuex:function(t,e){var r,o;return o=t.split("."),r={},e.forEach(function(t){var e,i,u;return i=`${o[0]}/update`,e=[...o.slice(0),t].join("."),u=[...o.slice(1),t].join("."),r[t]={get:function(){return n.get(this.$store.state,e)},set:function(t){var e;return e=n.set({},u,t),this.$store.commit(i,e)}}}),{computed:r}}}},function(t,e,r){"use strict";var n;({Query:n}=r(2)),t.exports={path_by:function(t="idx",e){var r,o;return(r={})[o=`${t}_a`]={get:function(){return this[t].split("-")}},e.forEach(function(t,e){var i,u;if(t)return u=`${t}s`,r[i=`${t}_id`]={get:function(){if(e<this[o].length)return this[o].slice(0,+e+1||9e9).join("-")}},r[t]={get:function(){return n[u].find(this[i])}}}),{computed:r}}}}])});
//# sourceMappingURL=index.min.js.map